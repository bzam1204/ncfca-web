<task>
    Refactor Admin Users page to use server-side pagination and filtering
</task>

<taskspec>
- Refactor the existing user management feature to implement server-side pagination and filtering.
- Use the `useSearchUsers` hook to fetch paginated and filtered data from the server.
- Expand the filters to include all possible options from the `SearchUsersQuery` DTO (name, email, cpf, rg, role).
- Replace the client-side filtering with server-side filtering.
- Implement pagination controls to navigate through the pages of users.
</taskspec>

## Context

- **`useSearchUsers.ts`**: `src/hooks/use-search-users.ts` (already exists)
- **`AdminUsersPage`**: `src/app/(admin)/admin/dashboard/users/page.tsx` (to be refactored)
- **`UsersTable`**: `src/app/(admin)/admin/dashboard/users/_components/users-table.tsx` (to be refactored)
- **`user.dto.ts`**: `src/contracts/api/user.dto.ts`
- **`pagination-controls.tsx`**: `src/components/ui/pagination-controls.tsx` (reusable component)

## Pre-computation

1.  **Refactor `AdminUsersPage` (`page.tsx`):**
    -   This component will be responsible for managing the state of the filters (name, email, cpf, rg, role) and the current page.
    -   It will use the `useSearchUsers` hook, passing the filter and pagination state to it.
    -   It will render the filter inputs for the user.
    -   It will pass the paginated data down to the `UsersTable` component.
    -   It will render the `PaginationControls` component.

2.  **Refactor `UsersTable` component:**
    -   Remove the existing client-side filtering logic.
    -   The component will now receive the paginated data directly from its parent (`AdminUsersPage`).
    -   It will be a “dumb” component, responsible only for displaying the list of users passed to it.

## Step-by-step

1.  **Modify `AdminUsersPage` (`src/app/(admin)/admin/dashboard/users/page.tsx`):**
    -   Introduce state management for all filters defined in `SearchUsersQuery` (`name`, `email`, `cpf`, `rg`, `role`) and for the current page number.
    -   Use `useDebounce` for the text-based filter inputs to avoid excessive API calls.
    -   Call the `useSearchUsers` hook with the combined filter and page state.
    -   Pass the `data` from the hook to the `UsersTable` component.
    -   Render the `PaginationControls` component and pass the necessary props (`currentPage`, `totalPages`, `onPageChange`).

2.  **Modify `UsersTable` (`src/app/(admin)/admin/dashboard/users/_components/users-table.tsx`):**
    -   Remove the `useMemo` hook and the client-side filtering logic.
    -   Update the component's props to receive the paginated user data (`data` property from the `useSearchUsers` hook result).
    -   Map over the received `data.data` array to render the user rows.

## Critical

-   **Server-Side Logic**: The core of this task is to move the filtering and pagination logic to the server-side via the API call made by the `useSearchUsers` hook.
-   **Component Responsibility**: `AdminUsersPage` should handle state and data fetching. `UsersTable` should only be responsible for presentation.
-   **Existing Components**: Leverage the existing `useSearchUsers` hook and the `PaginationControls` component.