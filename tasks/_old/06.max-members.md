<task>
    Implement member limit functionality for clubs
</task>

<taskspec>
    The goal is to allow club directors and admins to set a maximum number of members for a club and reflect this limit across the application, especially in the club enrollment process.

    **Related architect task**: @tasks/architect/003.max-members.architect.md

</taskspec>

<context>
    The `Club` entity already includes a `max_members` property. The implementation will involve updating the UI components for club creation and editing, as well as the club list/search view to enforce and display the member limits.
</context>

<implementation>
    ### 1. Backend: Update Club DTOs
    The `max_members` property needs to be added to the Data Transfer Objects (DTOs) used for updating club information.

    - **File**: `src/contracts/api/club.dto.ts`
    - **Action**: Add the optional `max_members` property to the `UpdateClubDto` interface.
        ```typescript
        export interface UpdateClubDto {
          name?: string;
          description?: string;
          // ... other properties
          max_members?: number | null;
        }
        ```

    - **File**: `src/contracts/api/admin.dto.ts`
    - **Action**: Add the optional `max_members` property to the `UpdateClubData` interface used by admins.
        ```typescript
        export interface UpdateClubData {
          name?: string;
          description?: string;
          // ... other properties
          max_members?: number | null;
        }
        ```

    ### 2. Club Management: Director's View
    Update the club management page to allow directors to edit the `max_members` limit.

    - **File**: `src/app/dashboard/club-management/page.tsx`
    - **Action**:
        1.  Add a new `FormField` for `max_members`. Use an `Input` component with `type="number"`.
        2.  The field should handle a `null` or `undefined` value to represent an unlimited number of members. An empty input should be treated as `null`.
        3.  Update the `onSubmit` function to pass the `max_members` value to the `updateClub` mutation. Ensure the value is correctly parsed as a number or `null`.

    ### 3. Club Management: Admin's View
    Update the admin's club editing page to allow admins to edit the `max_members` limit.

    - **File**: `src/app/(admin)/admin/dashboard/club/[clubId]/page.tsx`
    - **Action**:
        1.  Similar to the director's view, add a `FormField` for `max_members` using an `Input` component of `type="number"`.
        2.  Update the form submission logic to include `max_members` in the payload for the update mutation.

    ### 4. Club Creation Request
    Include the `max_members` field in the form for requesting the creation of a new club.

    - **File**: `src/app/dashboard/clubs/_components/create-club-request-form.tsx` (or similar component used in `src/app/dashboard/clubs/page.tsx`)
    - **Action**:
        1.  Add a `FormField` for `max_members` to the form.
        2.  Update the `CreateClubRequestDto` in `src/contracts/api/club-request.dto.ts` to include `max_members: number | null;`.
        3.  Ensure the `use-create-club-request.ts` hook and its gateway handle the new field.

    ### 5. Club Enrollment View
    Update the club list/search page to display member counts and disable enrollment for full clubs.

    - **File**: `src/app/dashboard/clubs/_components/club-card.tsx` (or the component that renders each club item in the list)
    - **Action**:
        1.  The `use-search-clubs.ts` hook should already fetch `members_count` and `max_members` as part of the `Club` object. Verify this is the case.
        2.  Inside the club card, add a `Badge` component to display the member status.
            -   Format: `X / Y membros` where X is `members_count` and Y is `max_members`.
            -   If `max_members` is `null` or `undefined`, display `X membros - Ilimitado`.
        3.  Modify the "Solicitar MatrÃ­cula" (Request Enrollment) button:
            -   **Disable** the button if `club.members_count >= club.max_members` (and `max_members` is not null).
            -   When disabled, change the button's label to "Clube Cheio" (Club Full).

</implementation>
