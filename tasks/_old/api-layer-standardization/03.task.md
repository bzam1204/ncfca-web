status: pending

# 03 — Refatorar Hooks para Actions + QueryKeys

## Objetivo
Eliminar `fetch` e `useSession` dos hooks clientes admin, consumindo as novas Actions e padronizando `QueryKeys` para cache.

## Arquivos e caminhos (criar/editar)
- Editar: `src/hooks/use-admin-club-members.ts`
- Editar: `src/hooks/use-admin-club-requests.ts`
- Editar: `src/hooks/use-admin-club-enrollments.ts`
- Editar: `src/hooks/use-admin-club-charts.ts`
- Opcional (convergir chaves): `src/infrastructure/cache/query-keys.ts`

## Contratos e estruturas
- Hooks devem usar `useQuery`/`useMutation` chamando apenas Actions server-side.
- `QueryKeys` oficiais para:
  - `QueryKeys.admin.clubMembers(clubId)`
  - `QueryKeys.admin.clubRequests.pending(clubId)`
  - `QueryKeys.admin.clubCharts(clubId)`
  - Invalidar em mutações: requests, members, charts do mesmo `clubId`.

## Regras de negócio e validações
- Nenhum acesso a token no cliente; nenhum `fetch` direto.
- Erros mostram mensagens do body (propagadas pelas Actions) quando disponíveis.

## Passo a passo
1) Substituir `useSession`/`fetch` por chamadas às Actions criadas na Task 02.
2) Atualizar `queryKey` dos hooks para usar `QueryKeys` centralizadas.
3) Ajustar `onSuccess` das mutações para invalidar as chaves oficiais.

## Critérios de aceite
- Comando retorna vazio: `rg -n "src/hooks/.*(fetch\(|useSession\()"`.
- Hooks compilam e telas continuam funcionando com as novas chaves.

## Testes mínimos (âncoras)
- Render dos componentes que consomem os hooks sem erro, com MSW/handlers ou fixtures das Actions.
- Verificar invalidations via `queryClient.invalidateQueries` usando `QueryKeys`.

## Notas de versão/refs (Context7)
- TanStack Query v5.
- Padrão Hook → Action → Gateway.

