status: pending

# 03 — Refatorar `use-club-management.use-case.ts` para Hooks e Gateway

## Objetivo

Substituir o `use-club-management.use-case.ts` por um conjunto de hooks (`useMyClubInfo`, `useUpdateMyClub`, `useClubEnrollments`, etc.) que interagem com um `ClubManagementGateway`.

## Arquivos e Caminhos

- **Criar (Interface):** `/src/application/gateways/club-management.gateway.ts`
- **Criar (Implementação):** `/src/infrastructure/gateways/club-management.gateway.http.ts`
- **Criar (Hooks):**
  - `/src/hooks/use-my-club-info.ts`
  - `/src/hooks/use-update-my-club.ts`
  - `/src/hooks/use-club-enrollments.ts`
  - `/src/hooks/use-approve-enrollment.ts`
  - `/src/hooks/use-reject-enrollment.ts`
- **Editar (Container):** `/src/infrastructure/containers/index.ts` para registrar o novo gateway.
- **Refatorar (Componentes):** Atualizar as páginas de gerenciamento de clube para usar os novos hooks.
- **Deletar (Use-Case):** `/src/application/use-cases/use-club-management.use-case.ts`

## Contratos e Estruturas

**1. `ClubManagementGateway` (Interface)**
Defina os métodos baseados nas operações do `use-case` (e.g., `getMyClubInfo`, `updateClub`, `listEnrollments`, `approveEnrollment`, `rejectEnrollment`).

```typescript
import { Club } from '@/domain/entities/club';
import { Enrollment } from '@/domain/entities/enrollment';

export abstract class ClubManagementGateway {
  abstract getMyClubInfo(): Promise<Club>;
  abstract updateClub(clubData: Partial<Club>): Promise<Club>;
  abstract listEnrollments(): Promise<Enrollment[]>;
  abstract approveEnrollment(enrollmentId: string): Promise<void>;
  abstract rejectEnrollment(enrollmentId: string): Promise<void>;
}
```

**2. `ClubManagementGatewayHttp` (Implementação)**
Implemente os métodos da interface, fazendo as chamadas `fetch` para os endpoints correspondentes da API de gerenciamento de clubes.

## Passo a Passo

1.  **Gateway:** Crie a interface `ClubManagementGateway` e sua implementação `ClubManagementGatewayHttp`.
2.  **Injeção de Dependência:** Registre o novo gateway no container de DI.
3.  **Hooks:** Crie os hooks listados. Use `useQuery` para obter dados (`getMyClubInfo`, `listEnrollments`) e `useMutation` para realizar ações (`updateClub`, `approveEnrollment`, `rejectEnrollment`).
4.  **Refatoração:** Substitua as chamadas ao `useClubManagementUseCase` nas páginas de gerenciamento de clube pelos novos hooks.
5.  **Limpeza:** Delete o arquivo `/src/application/use-cases/use-club-management.use-case.ts` após a verificação.

## Critérios de Aceite

- A página de informações do clube exibe os dados corretamente.
- O formulário de atualização do clube funciona como esperado.
- A lista de matrículas (enrollments) é carregada e exibida.
- As ações de aprovar e rejeitar matrículas funcionam através dos novos hooks.
- O arquivo `use-club-management.use-case.ts` foi removido.

## Testes Mínimos

- Navegar para a área de gerenciamento do clube.
- Verificar se todas as informações são carregadas.
- Tentar atualizar uma informação do clube.
- Aprovar e rejeitar uma matrícula pendente.
